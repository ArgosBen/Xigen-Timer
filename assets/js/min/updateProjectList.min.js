!function(){"use strict";var e=function(e){var t,a=$(document.createElement("ul"));return $.each(e,function(){switch(this.TaskTypeID){case 2:t="<div class='label alert'>Issue</div>";break;case 3:t="<div class='label success'>Request</div>";break;default:t="<div class='label'>Task</div>"}a.append("<li data-id='"+this.EntityBaseID+"'><a href='#'>"+t+"<span>"+this.Name+"</span></a></li>")}),a};XIGENTIMER.updateProjectList=function(t){XIGENTIMER.API.getProjects(function(a){var i,s,n,c,l,d=$(".side-nav"),u=document.createDocumentFragment(),p=[];d.find(".is-open").each(function(){p.push($(this).text())}),d.empty(),$.each(a.filter(function(e){return e.Activities.length>0}),function(t,a){i=$(document.createElement("li")),i.append("<span>"+a.Name+"</span>"),a.Activities&&a.Activities.length>0&&(s=$(document.createElement("ul")),n=a.Activities.filter(function(e){return!e.isHidden&&(4===e.TaskStatusID||1===e.TaskStatusID||10===e.TaskStatusID)}),$.each(n,function(t,a){switch(a.TaskTypeID){case 2:l="<div class='label alert'>Issue</div>";break;case 3:l="<div class='label success'>Request</div>";break;default:l="<div class='label'>Task</div>"}a.Activities?(c=$("<li data-id='"+a.EntityBaseID+"'><span>"+a.Name+"</span></li>"),c.append(e(a.Activities)),s.append(c)):s.append("<li data-id='"+a.EntityBaseID+"'><a href='#'>"+l+"<span>"+a.Name+"</span></a></li>")}),i.append(s)),n.length>0&&u.appendChild(i[0])}),d[0]&&d[0].appendChild(u),"function"==typeof t&&t(p)})}}();