!function(){"use strict";var e=function(e){var a,t,s=$(document.createElement("ul"));return $.each(e,function(){switch(t=18===this.TaskStatusID?"is-review":"",this.TaskTypeID){case 2:a="<div class='label alert'>Issue</div>";break;case 3:a="<div class='label success'>Request</div>";break;default:a="<div class='label'>Task</div>"}s.append("<li class='"+t+"' data-id='"+this.EntityBaseID+"'><a href='#'>"+a+"<span>"+this.Name+"</span></a></li>")}),s};XIGENTIMER.updateProjectList=function(a){XIGENTIMER.API.getProjects(function(t){var s,i,n,c,l,d,u=$(".side-nav"),p=document.createDocumentFragment(),r=[];u.find(".is-open").each(function(){r.push($(this).text())}),u.empty(),$.each(t.filter(function(e){return e.Activities.length>0}),function(a,t){s=$(document.createElement("li")),s.append("<span>"+t.Name+"</span>"),t.Activities&&t.Activities.length>0&&(i=$(document.createElement("ul")),n=t.Activities.filter(function(e){return!e.isHidden&&(4===e.TaskStatusID||1===e.TaskStatusID||18===e.TaskStatusID||10===e.TaskStatusID)}),$.each(n,function(a,t){switch(d=18===t.TaskStatusID?"is-review":"",t.TaskTypeID){case 2:l="<div class='label alert'>Issue</div>";break;case 3:l="<div class='label success'>Request</div>";break;default:l="<div class='label'>Task</div>"}t.Activities?(c=$("<li data-id='"+t.EntityBaseID+"'><span>"+t.Name+"</span></li>"),c.append(e(t.Activities)),i.append(c)):i.append("<li class='"+d+"' data-id='"+t.EntityBaseID+"'><a href='#'>"+l+"<span>"+t.Name+"</span></a></li>")}),s.append(i)),n.length>0&&p.appendChild(s[0])}),u[0]&&u[0].appendChild(p),"function"==typeof a&&a(r)})}}();