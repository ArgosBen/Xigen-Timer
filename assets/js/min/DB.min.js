!function(){"use strict";var e;e=function(){return!this instanceof e?new e(arguments):(this.init.apply(this,arguments),void 0)},e.prototype.init=function(e,t,n){var o=this;this.openRequest=indexedDB.open(e,t),this.openRequest.onupgradeneeded=function(e){o.db=e.target.result,console.log("Running Upgrade task"),$(n).each(function(){o.createStore(this)})},this.openRequest.onsuccess=function(t){console.log("DB "+e+" successfully opened"),o.db=t.target.result},this.openRequest.onerror=function(t){console.log("Error opening db: "+e),console.dir(t)}},e.prototype.createStore=function(e){var t;this.db.objectStoreNames.contains(e)||(t=this.db.createObjectStore(e,{autoIncrement:!0,keyPath:"id"}))},e.prototype.write=function(e,t){e=[e];var n=this.db.transaction(e,"readwrite"),e=n.objectStore(e[0]);e.add(t)},e.prototype.readAll=function(e){e=[e];var t=this.db.transaction(e,"readwrite"),e=t.objectStore(e[0]),n=IDBKeyRange.lowerBound(0),o=e.openCursor(n),r=[];return o.onsuccess=function(e){console.log(e);var t=e.target.result;r.push(t),t.continue()},r},window.DBInterface=e}();